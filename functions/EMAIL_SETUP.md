# üìß –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Email –¥–ª—è –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–º–æ–∂–µ—Ç –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é –æ—Ç–ø—Ä–∞–≤–∫—É email –ø—Ä–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–∏ –Ω–æ–≤—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π –≤ —Å–∏—Å—Ç–µ–º—É Profit Step.

## üìã –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

1. [–û–±–∑–æ—Ä](#–æ–±–∑–æ—Ä)
2. [–í–∞—Ä–∏–∞–Ω—Ç 1: Brevo (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production) ‚≠ê](#–≤–∞—Ä–∏–∞–Ω—Ç-1-brevo-—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è-–¥–ª—è-production-)
3. [–í–∞—Ä–∏–∞–Ω—Ç 2: Gmail (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)](#–≤–∞—Ä–∏–∞–Ω—Ç-2-gmail-–¥–ª—è-—Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)
4. [–í–∞—Ä–∏–∞–Ω—Ç 3: –î—Ä—É–≥–∏–µ SMTP –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã](#–≤–∞—Ä–∏–∞–Ω—Ç-3-–¥—Ä—É–≥–∏–µ-smtp-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã)
5. [–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ](#—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)
6. [Troubleshooting](#troubleshooting)

---

## –û–±–∑–æ—Ä

–°–∏—Å—Ç–µ–º–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç email –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è —Å –ø–æ–º–æ—â—å—é Nodemailer. –î–ª—è —ç—Ç–æ–≥–æ –Ω—É–∂–Ω–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å SMTP —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ.

**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è:**
1. –°–æ–∑–¥–∞–µ—Ç—Å—è –∞–∫–∫–∞—É–Ω—Ç –≤ Firebase Auth
2. –°–æ–∑–¥–∞–µ—Ç—Å—è –ø—Ä–æ—Ñ–∏–ª—å –≤ Firestore
3. –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è —Å—Å—ã–ª–∫–∞ –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–∞—Ä–æ–ª—è
4. –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∫—Ä–∞—Å–∏–≤—ã–π HTML email —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏

**–ï—Å–ª–∏ email –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω:**
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –≤—Å–µ —Ä–∞–≤–Ω–æ –±—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω
- –ê–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä –ø–æ–ª—É—á–∏—Ç —Å—Å—ã–ª–∫—É –≤ UI –∏ —Å–º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–∏—Ç—å –µ–µ –≤—Ä—É—á–Ω—É—é
- –í –ª–æ–≥–∞—Ö –±—É–¥–µ—Ç –≤–∏–¥–Ω–æ, —á—Ç–æ email –æ—Ç–ø—Ä–∞–≤–∫–∞ –ø—Ä–æ–ø—É—â–µ–Ω–∞

---

## –í–∞—Ä–∏–∞–Ω—Ç 1: Brevo (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–ª—è production) ‚≠ê

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Brevo:
- ‚úÖ **300 –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –ø–∏—Å–µ–º –≤ –¥–µ–Ω—å** (–ª—É—á—à–µ SendGrid!)
- ‚úÖ –í—ã—Å–æ–∫–∞—è –¥–æ—Å—Ç–∞–≤–ª—è–µ–º–æ—Å—Ç—å
- ‚úÖ –ü—Ä–æ—Å—Ç–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞
- ‚úÖ –ê–Ω–∞–ª–∏—Ç–∏–∫–∞ –¥–æ—Å—Ç–∞–≤–∫–∏
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –Ω–∞ —Ä—É—Å—Å–∫–æ–º —è–∑—ã–∫–µ
- ‚úÖ –ë–µ–∑ –∫—Ä–µ–¥–∏—Ç–Ω–æ–π –∫–∞—Ä—Ç—ã –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ –∞–∫–∫–∞—É–Ω—Ç Brevo

1. –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–π—Ç–µ—Å—å –Ω–∞ https://www.brevo.com
2. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ email
3. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ –æ—Å–Ω–æ–≤–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–æ–º–ø–∞–Ω–∏–∏

### –®–∞–≥ 2: –ü–æ–ª—É—á–∏—Ç–µ SMTP —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **SMTP & API**: https://app.brevo.com/settings/keys/smtp
2. –ù–∞–π–¥–∏—Ç–µ —Ä–∞–∑–¥–µ–ª **SMTP**
3. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –¥–∞–Ω–Ω—ã–µ:
   - **SMTP server**: `smtp-relay.brevo.com`
   - **Port**: `587`
   - **Login**: –≤–∞—à email –¥–ª—è –≤—Ö–æ–¥–∞ –≤ Brevo
   - **SMTP key**: –Ω–∞–∂–º–∏—Ç–µ "Create a new SMTP key" –µ—Å–ª–∏ –∫–ª—é—á–∞ –µ—â–µ –Ω–µ—Ç

### –®–∞–≥ 3: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ Firebase Functions

#### –°–ø–æ—Å–æ–± A: Firebase Config (Production)

```bash
firebase functions:config:set \
  email.host="smtp-relay.brevo.com" \
  email.port="587" \
  email.user="your-brevo-login@example.com" \
  email.password="–≤–∞—à-brevo-smtp-key"
```

#### –°–ø–æ—Å–æ–± B: .env —Ñ–∞–π–ª (Local Development)

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `functions/.env`:

```bash
EMAIL_HOST=smtp-relay.brevo.com
EMAIL_PORT=587
EMAIL_USER=your-brevo-login@example.com
EMAIL_PASSWORD=–≤–∞—à-brevo-smtp-key
```

### –®–∞–≥ 4: –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ, –Ω–æ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)

1. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Senders & IP**: https://app.brevo.com/senders
2. –î–æ–±–∞–≤—å—Ç–µ –≤–∞—à email –∫–∞–∫ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è
3. –ü–æ–¥—Ç–≤–µ—Ä–¥–∏—Ç–µ ownership —á–µ—Ä–µ–∑ email

### –®–∞–≥ 5: –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–∏—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫
firebase functions:config:get

# –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏
firebase deploy --only functions
```

---

## –í–∞—Ä–∏–∞–Ω—Ç 2: Gmail (–¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏)

### ‚ö†Ô∏è –í–Ω–∏–º–∞–Ω–∏–µ
Gmail –ø–æ–¥—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –∏ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –î–ª—è production –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Brevo –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π email —Å–µ—Ä–≤–∏—Å.

### –®–∞–≥ 1: –°–æ–∑–¥–∞–π—Ç–µ App Password –≤ Google

1. –û—Ç–∫—Ä–æ–π—Ç–µ https://myaccount.google.com/
2. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Security** ‚Üí **2-Step Verification**
3. –í–∫–ª—é—á–∏—Ç–µ –¥–≤—É—Ö—Ñ–∞–∫—Ç–æ—Ä–Ω—É—é –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—é, –µ—Å–ª–∏ –µ—â–µ –Ω–µ –≤–∫–ª—é—á–µ–Ω–∞
4. –í–µ—Ä–Ω–∏—Ç–µ—Å—å –≤ **Security** ‚Üí **App passwords** (https://myaccount.google.com/apppasswords)
5. –í—ã–±–µ—Ä–∏—Ç–µ:
   - App: **Mail**
   - Device: **Other** (–≤–≤–µ–¥–∏—Ç–µ "Profit Step")
6. –ù–∞–∂–º–∏—Ç–µ **Generate**
7. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–∞—Ä–æ–ª—å (16 —Å–∏–º–≤–æ–ª–æ–≤ –±–µ–∑ –ø—Ä–æ–±–µ–ª–æ–≤)

### –®–∞–≥ 2: –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

#### –õ–æ–∫–∞–ª—å–Ω–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞

–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –ø–∞–ø–∫–µ `functions/`:

```bash
# functions/.env
EMAIL_HOST=smtp.gmail.com
EMAIL_PORT=587
EMAIL_USER=your-email@gmail.com
EMAIL_PASSWORD=your-app-password-here
```

#### –î–ª—è Firebase Functions (production)

```bash
firebase functions:config:set \
  email.host="smtp.gmail.com" \
  email.port="587" \
  email.user="your-email@gmail.com" \
  email.password="your-app-password-here"
```

---

## –í–∞—Ä–∏–∞–Ω—Ç 3: –î—Ä—É–≥–∏–µ SMTP –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã

### SendGrid

```bash
firebase functions:config:set \
  email.host="smtp.sendgrid.net" \
  email.port="587" \
  email.user="apikey" \
  email.password="your-sendgrid-api-key"
```

**–ü—Ä–∏–º–µ—á–∞–Ω–∏–µ:** SendGrid –¥–∞–µ—Ç —Ç–æ–ª—å–∫–æ 100 –ø–∏—Å–µ–º/–¥–µ–Ω—å –±–µ—Å–ø–ª–∞—Ç–Ω–æ, Brevo –¥–∞–µ—Ç 300.

### Mailgun

```bash
firebase functions:config:set \
  email.host="smtp.mailgun.org" \
  email.port="587" \
  email.user="postmaster@your-domain.mailgun.org" \
  email.password="your-mailgun-password"
```

### AWS SES

```bash
firebase functions:config:set \
  email.host="email-smtp.us-east-1.amazonaws.com" \
  email.port="587" \
  email.user="your-ses-smtp-username" \
  email.password="your-ses-smtp-password"
```

### Mailjet

```bash
firebase functions:config:set \
  email.host="in-v3.mailjet.com" \
  email.port="587" \
  email.user="your-mailjet-api-key" \
  email.password="your-mailjet-secret-key"
```

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### 1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# Firebase Functions
firebase functions:config:get

# –õ–æ–∫–∞–ª—å–Ω–æ (–≤ .env —Ñ–∞–π–ª–µ)
cat functions/.env
```

### 2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ —Ñ—É–Ω–∫—Ü–∏–π

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
firebase functions:log --only inviteUser

# –ò–ª–∏ –≤ Firebase Console
# https://console.firebase.google.com ‚Üí Functions ‚Üí Logs
```

### 3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏–µ

1. –û—Ç–∫—Ä–æ–π—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –í–æ–π–¥–∏—Ç–µ –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥–æ–π**
4. –ù–∞–∂–º–∏—Ç–µ **–ü—Ä–∏–≥–ª–∞—Å–∏—Ç—å —É—á–∞—Å—Ç–Ω–∏–∫–∞**
5. –ó–∞–ø–æ–ª–Ω–∏—Ç–µ —Ñ–æ—Ä–º—É –∏ –æ—Ç–ø—Ä–∞–≤—å—Ç–µ

**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:**
- –ó–µ–ª–µ–Ω–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ: "Email —Å –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º–∏ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω"
- –ü–∏—Å—å–º–æ –ø—Ä–∏—Ö–æ–¥–∏—Ç –Ω–∞ —É–∫–∞–∑–∞–Ω–Ω—ã–π email
- –í –ª–æ–≥–∞—Ö: `‚úÖ Invitation email sent to: user@example.com`
- –í –ª–æ–≥–∞—Ö: `üìß Email –Ω–∞—Å—Ç—Ä–æ–µ–Ω: smtp-relay.brevo.com:587`

### 4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ email

–ü–∏—Å—å–º–æ –¥–æ–ª–∂–Ω–æ —Å–æ–¥–µ—Ä–∂–∞—Ç—å:
- ‚úÖ –ü—Ä–∏–≤–µ—Ç—Å—Ç–≤–∏–µ —Å –∏–º–µ–Ω–µ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ —Ä–æ–ª–∏ –∏ –∫–æ–º–ø–∞–Ω–∏–∏
- ‚úÖ –ö–Ω–æ–ø–∫—É "–£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –ø–∞—Ä–æ–ª—å"
- ‚úÖ –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –∏–∑ 3 —à–∞–≥–æ–≤
- ‚úÖ –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏–µ –æ —Å—Ä–æ–∫–µ –¥–µ–π—Å—Ç–≤–∏—è —Å—Å—ã–ª–∫–∏

---

## Troubleshooting

### –ü—Ä–æ–±–ª–µ–º–∞: "Email –Ω–µ –±—ã–ª –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω: invalid login"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ–≤–µ—Ä–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è Brevo:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π Login (–≤–∞—à email –≤—Ö–æ–¥–∞ –≤ Brevo)
2. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ SMTP key –ø—Ä–∞–≤–∏–ª—å–Ω–æ —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω
3. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –Ω–µ—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤

```bash
# –ü–µ—Ä–µ—Å–æ–∑–¥–∞–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
firebase functions:config:unset email
firebase functions:config:set \
  email.host="smtp-relay.brevo.com" \
  email.port="587" \
  email.user="your-email@example.com" \
  email.password="–≤–∞—à-smtp-key"
firebase deploy --only functions
```

**–†–µ—à–µ–Ω–∏–µ –¥–ª—è Gmail:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ EMAIL_USER –∏ EMAIL_PASSWORD
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ App Password, –∞ –Ω–µ –æ–±—ã—á–Ω—ã–π –ø–∞—Ä–æ–ª—å
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ email –∏ –ø–∞—Ä–æ–ª—å –Ω–µ —Å–æ–¥–µ—Ä–∂–∞—Ç –ª–∏—à–Ω–∏—Ö –ø—Ä–æ–±–µ–ª–æ–≤

### –ü—Ä–æ–±–ª–µ–º–∞: "Email –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–µ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∞"

**–ü—Ä–∏—á–∏–Ω–∞:** –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è –Ω–µ –∑–∞–¥–∞–Ω—ã

**–†–µ—à–µ–Ω–∏–µ:**
```bash
# –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é
firebase functions:config:get

# –ï—Å–ª–∏ –ø—É—Å—Ç–æ, –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ –¥–ª—è Brevo:
firebase functions:config:set \
  email.host="smtp-relay.brevo.com" \
  email.port="587" \
  email.user="your-email@example.com" \
  email.password="–≤–∞—à-smtp-key"

# –†–∞–∑–≤–µ—Ä–Ω–∏—Ç–µ —Å–Ω–æ–≤–∞
firebase deploy --only functions
```

### –ü—Ä–æ–±–ª–µ–º–∞: Email —É—Ö–æ–¥–∏—Ç –≤ SPAM

**–†–µ—à–µ–Ω–∏–µ:**
1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Brevo –∏–ª–∏ –¥—Ä—É–≥–æ–π —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–æ–Ω–Ω—ã–π —Å–µ—Ä–≤–∏—Å –≤–º–µ—Å—Ç–æ Gmail
2. –í–µ—Ä–∏—Ñ–∏—Ü–∏—Ä—É–π—Ç–µ –æ—Ç–ø—Ä–∞–≤–∏—Ç–µ–ª—è –≤ Brevo
3. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ SPF, DKIM –∑–∞–ø–∏—Å–∏ –¥–ª—è –≤–∞—à–µ–≥–æ –¥–æ–º–µ–Ω–∞ (–≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö Brevo)
4. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ email —Å–æ–¥–µ—Ä–∂–∏—Ç –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ç–µ–∫—Å—Ç–æ–≤—ã–π –≤–∞—Ä–∏–∞–Ω—Ç

### –ü—Ä–æ–±–ª–µ–º–∞: –û—à–∏–±–∫–∞ "ECONNREFUSED"

**–ü—Ä–∏—á–∏–Ω–∞:** –ù–µ —É–¥–∞–µ—Ç—Å—è –ø–æ–¥–∫–ª—é—á–∏—Ç—å—Å—è –∫ SMTP —Å–µ—Ä–≤–µ—Ä—É

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ HOST –∏ PORT
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –¥–æ—Å—Ç—É–ø–µ–Ω:
   ```bash
   telnet smtp-relay.brevo.com 587
   ```
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –±—Ä–∞–Ω–¥–º–∞—É—ç—Ä/firewall

### –ü—Ä–æ–±–ª–µ–º–∞: Email –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç, –Ω–æ –≤ –ª–æ–≥–∞—Ö —É—Å–ø–µ—Ö

**–†–µ—à–µ–Ω–∏–µ:**
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø–∞–ø–∫—É SPAM
2. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 5-10 –º–∏–Ω—É—Ç
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ sender –≤–µ—Ä–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞–Ω (–¥–ª—è Brevo)
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–≤–æ—Ç—ã –æ—Ç–ø—Ä–∞–≤–∫–∏ (300/–¥–µ–Ω—å –¥–ª—è Brevo)

---

## üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å

### –í–∞–∂–Ω—ã–µ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏:

1. **–ù–∏–∫–æ–≥–¥–∞ –Ω–µ –∫–æ–º–º–∏—Ç—å—Ç–µ –ø–∞—Ä–æ–ª–∏**
   - –î–æ–±–∞–≤—å—Ç–µ `functions/.env` –≤ `.gitignore`
   - –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ Firebase Config –¥–ª—è production

2. **–ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ SMTP –∫–ª—é—á–∏**
   - –î–ª—è Brevo –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ SMTP key, –Ω–µ –ø–∞—Ä–æ–ª—å –∞–∫–∫–∞—É–Ω—Ç–∞
   - –î–ª—è Gmail –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ App Password

3. **–û–≥—Ä–∞–Ω–∏—á—å—Ç–µ –¥–æ—Å—Ç—É–ø –∫ –∫–ª—é—á–∞–º**
   - SMTP –∫–ª—é—á–∏ —Ö—Ä–∞–Ω–∏—Ç–µ –≤ Firebase Config
   - –†–µ–≥—É–ª—è—Ä–Ω–æ —Ä–æ—Ç–∏—Ä—É–π—Ç–µ –∫–ª—é—á–∏

4. **–ú–æ–Ω–∏—Ç–æ—Ä—å—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ**
   - –°–ª–µ–¥–∏—Ç–µ –∑–∞ –ª–∏–º–∏—Ç–∞–º–∏ –æ—Ç–ø—Ä–∞–≤–∫–∏ (300/–¥–µ–Ω—å –¥–ª—è Brevo)
   - –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–ª–µ—Ä—Ç—ã –≤ Brevo –ø—Ä–∏ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

---

## üìö –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- [Nodemailer Documentation](https://nodemailer.com/about/)
- [Brevo SMTP Setup](https://help.brevo.com/hc/en-us/articles/209462765-How-can-I-use-Brevo-SMTP)
- [Gmail App Passwords](https://support.google.com/accounts/answer/185833)
- [Firebase Functions Config](https://firebase.google.com/docs/functions/config-env)

---

## üÜò –ü–æ–º–æ—â—å

–ï—Å–ª–∏ –≤–æ–∑–Ω–∏–∫–ª–∏ –ø—Ä–æ–±–ª–µ–º—ã:

1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏: `firebase functions:log --only inviteUser`
2. –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω—ã: `firebase functions:config:get`
3. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω–æ —Å `.env` —Ñ–∞–π–ª–æ–º
4. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Å—Ç–∞—Ç—É—Å Brevo: https://status.brevo.com/

---

**–ì–æ—Ç–æ–≤–æ!** üéâ –¢–µ–ø–µ—Ä—å –≤–∞—à–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±—É–¥—É—Ç –ø–æ–ª—É—á–∞—Ç—å –∫—Ä–∞—Å–∏–≤—ã–µ –ø—Ä–∏–≥–ª–∞—à–µ–Ω–∏—è –ø–æ email —Å –ø–æ–º–æ—â—å—é Brevo!

## üìä –°—Ä–∞–≤–Ω–µ–Ω–∏–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

| –ü—Ä–æ–≤–∞–π–¥–µ—Ä | –ë–µ—Å–ø–ª–∞—Ç–Ω—ã–π –ª–∏–º–∏—Ç | –ü—Ä–æ—Å—Ç–æ—Ç–∞ | –î–æ—Å—Ç–∞–≤–ª—è–µ–º–æ—Å—Ç—å | –†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è |
|-----------|------------------|----------|----------------|--------------|
| **Brevo** | 300/–¥–µ–Ω—å | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | **–õ—É—á—à–∏–π –¥–ª—è production** |
| Gmail | –Ω–µ—Ç –ª–∏–º–∏—Ç–∞ | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê | –¢–æ–ª—å–∫–æ –¥–ª—è dev |
| SendGrid | 100/–¥–µ–Ω—å | ‚≠ê‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –•–æ—Ä–æ—à–∏–π, –Ω–æ –ª–∏–º–∏—Ç –º–µ–Ω—å—à–µ |
| Mailgun | 100/–º–µ—Å—è—Ü | ‚≠ê‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê | –î–ª—è low-volume |
| AWS SES | 62000/–º–µ—Å—è—Ü* | ‚≠ê‚≠ê | ‚≠ê‚≠ê‚≠ê‚≠ê‚≠ê | –°–ª–æ–∂–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ |

*—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –æ—Ç–ø—Ä–∞–≤–∫–µ —Å EC2
